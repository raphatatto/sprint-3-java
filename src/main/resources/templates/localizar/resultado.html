<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<body th:with="pageTitle='Resultado', active='localizar', content='this :: content'"
      th:replace="~{fragments/_layout :: body(~{::body})}">
<div th:fragment="content" class="grid">

    <h2>Resultado da busca</h2>

    <div class="card">
        <p><strong>Placa:</strong> <span th:text="${placa}">AAA0A00</span></p>

        <div th:if="${alocacao != null}">
            <p><strong>Vaga:</strong> <span th:text="${alocacao.vaga.codigo}">A01</span></p>
            <p><strong>Início:</strong> <span th:text="${#temporals.format(alocacao.inicio, 'dd/MM/yyyy HH:mm')}"></span></p>
            <p><strong>Status:</strong> <span class="badge ok">ALOCADA</span></p>

            <form class="inline" th:action="@{|/alocacoes/${alocacao.id}/encerrar|}" method="post">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit" class="btn danger">Liberar Vaga</button>
            </form>
        </div>

        <div th:if="${alocacao == null}">
            <p><strong>Status:</strong> <span class="badge warn">NÃO ALOCADA</span></p>
            <a class="btn" th:href="@{/motos/novo}">Cadastrar & Alocar</a>
        </div>
    </div>

    <div>
        <a class="btn secondary" th:href="@{/localizar}">Nova busca</a>
    </div>

</div>
</body>
</html>
